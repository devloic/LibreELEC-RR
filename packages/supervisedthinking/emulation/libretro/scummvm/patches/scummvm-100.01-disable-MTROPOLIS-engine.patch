From 35acb23a292591898a28acfcc292f480c899c2a3 Mon Sep 17 00:00:00 2001
From: root <cruau.david@gmail.com>
Date: Mon, 15 Aug 2022 10:59:42 +0200
Subject: [PATCH] Disabled MTROPOLIS engine as it's not available on the branch
 2-6-0

---
 backends/platform/libretro/build/config.wip          | 1 -
 backends/platform/libretro/engines/detection_table.h | 3 ---
 backends/platform/libretro/engines/engines.mk        | 5 -----
 backends/platform/libretro/engines/plugins_table.h   | 3 ---
 4 files changed, 12 deletions(-)

diff --git a/backends/platform/libretro/build/config.wip b/backends/platform/libretro/build/config.wip
index f84f720f23d9..ac75134e5208 100644
--- a/backends/platform/libretro/build/config.wip
+++ b/backends/platform/libretro/build/config.wip
@@ -11,7 +11,6 @@ ENABLE_LILLIPUT = $(ENABLED)
 ENABLE_MACVENTURE = $(ENABLED)
 ENABLE_MADSV2 = $(ENABLED)
 ENABLE_MOHAWK = $(ENABLED)
-ENABLE_MTROPOLIS = $(ENABLED)
 ENABLE_MUTATIONOFJB = $(ENABLED)
 ENABLE_NANCY = $(ENABLED)
 ENABLE_PINK = $(ENABLED)
diff --git a/backends/platform/libretro/engines/detection_table.h b/backends/platform/libretro/engines/detection_table.h
index 185a3f716526..3f0266f933a9 100644
--- a/backends/platform/libretro/engines/detection_table.h
+++ b/backends/platform/libretro/engines/detection_table.h
@@ -148,9 +148,6 @@ LINK_PLUGIN(MOHAWK_DETECTION)
 #if defined(ENABLE_MORTEVIELLE) || defined(DETECTION_FULL)
 LINK_PLUGIN(MORTEVIELLE_DETECTION)
 #endif
-#if defined(ENABLE_MTROPOLIS) || defined(DETECTION_FULL)
-LINK_PLUGIN(MTROPOLIS_DETECTION)
-#endif
 #if defined(ENABLE_MUTATIONOFJB) || defined(DETECTION_FULL)
 LINK_PLUGIN(MUTATIONOFJB_DETECTION)
 #endif
diff --git a/backends/platform/libretro/engines/engines.mk b/backends/platform/libretro/engines/engines.mk
index a92d16e97c7e..2f2defb1a362 100644
--- a/backends/platform/libretro/engines/engines.mk
+++ b/backends/platform/libretro/engines/engines.mk
@@ -299,11 +299,6 @@ DEFINES += -DENABLE_MORTEVIELLE=$(ENABLE_MORTEVIELLE)
 MODULES += engines/mortevielle
 endif
 
-ifdef ENABLE_MTROPOLIS
-DEFINES += -DENABLE_MTROPOLIS=$(ENABLE_MTROPOLIS)
-MODULES += engines/mtropolis
-endif
-
 ifdef ENABLE_MUTATIONOFJB
 DEFINES += -DENABLE_MUTATIONOFJB=$(ENABLE_MUTATIONOFJB)
 MODULES += engines/mutationofjb
diff --git a/backends/platform/libretro/engines/plugins_table.h b/backends/platform/libretro/engines/plugins_table.h
index 4096379c45d1..c53c11f38be9 100644
--- a/backends/platform/libretro/engines/plugins_table.h
+++ b/backends/platform/libretro/engines/plugins_table.h
@@ -148,9 +148,6 @@ LINK_PLUGIN(MOHAWK)
 #if PLUGIN_ENABLED_STATIC(MORTEVIELLE)
 LINK_PLUGIN(MORTEVIELLE)
 #endif
-#if PLUGIN_ENABLED_STATIC(MTROPOLIS)
-LINK_PLUGIN(MTROPOLIS)
-#endif
 #if PLUGIN_ENABLED_STATIC(MUTATIONOFJB)
 LINK_PLUGIN(MUTATIONOFJB)
 #endif
